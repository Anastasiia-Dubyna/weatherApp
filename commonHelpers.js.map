{"version":3,"file":"commonHelpers.js","sources":["../src/js/swiper.js","../src/js/refs.js","../src/js/createMarkup.js","../src/js/api/weatherApi.js","../src/js/api/opencagedataApi.js","../src/js/api/pixabayApi.js","../src/js/helpers/getRandomIndex.js","../src/js/helpers/setBackground.js","../src/js/currentTime.js","../src/js/storage.js","../src/js/favoriteBtn.js","../src/js/saveFavorite.js","../src/js/helpers/calculateNumbers.js","../src/js/weatherChart.js","../src/main.js"],"sourcesContent":["import Swiper from 'swiper';\nimport { Navigation } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\n\nexport const swiper = new Swiper('.city-slider', {\n  modules: [Navigation],\n  navigation: {\n    nextEl: '.button-next-favorite',\n    prevEl: '.button-prev-favorite',\n  },\n  loop: false,\n  createElements: true,\n  breakpoints: {\n    320: {\n      slidesPerView: 2,\n      spaceBetween: 10,\n    },\n    768: {\n      slidesPerView: 4,\n      spaceBetween: 10,\n    },\n    1280: {\n      slidesPerView: 4,\n    },\n  },\n});\n\nexport const swiperFiveDays = new Swiper('.fiveDaysSwiper-slider', {\n  modules: [Navigation],\n  navigation: {\n    nextEl: '.button-next-fiveDaysSwiper',\n    prevEl: '.button-prev-fiveDaysSwiper',\n  },\n  // slidesPerView: 3,\n  loop: false,\n  createElements: true,\n  breakpoints: {\n    320: {\n      slidesPerView: 3,\n      spaceBetween: 17,\n    },\n    768: {\n      slidesPerView: 5,\n      spaceBetween: 24,\n      // height: 181,\n    },\n    1280: {\n      slidesPerView: 5,\n      spaceBetween: 32,\n    },\n  },\n});\n\nexport const swiperMoreInfo = new Swiper('.weather-slider', {\n  modules: [Navigation],\n  navigation: {\n    nextEl: '.button-next-weather',\n    prevEl: '.button-prev-weather',\n  },\n  // slidesPerView: 3,\n  loop: false,\n  createElements: true,\n  breakpoints: {\n    320: {\n      slidesPerView: 2,\n      spaceBetween: 16,\n    },\n    768: {\n      slidesPerView: 5,\n      spaceBetween: 16,\n    },\n    1280: {\n      slidesPerView: 7,\n      spaceBetween: 16,\n    },\n  },\n});\n","export const refs = {\n  startBtn: document.querySelector('.start'),\n  stopBtn: document.querySelector('.stop'),\n  form: document.querySelector('.search-form'),\n  swiperList: document.querySelector('.city-slider__wrapper'),\n  saveFavoriteBtn: document.querySelector('.saveFavoriteBtn'),\n  dateOneDay: document.querySelector('.dateOneDay'),\n  month: document.querySelector('.month'),\n  timer: document.querySelector('.timeSpan'),\n  searchInput: document.querySelector('.search-input'),\n  buttonsOneOrFive: document.querySelector('.buttonsOneOrFive'),\n  weatherWrapperOneDay: document.querySelector('.weather__wrapper-oneDay'),\n  weatherWrapperOneDayDate: document.querySelector(\n    '.weather__wrapper-oneDayDate'\n  ),\n  weatherWrapper: document.querySelector('.weather__wrapper'),\n  wrapper: document.querySelector('.wrapper'),\n  chart: document.querySelector('.chart'),\n  weatherChart: document.querySelector('.weather-chart'),\n  showChart: document.querySelector('.btn-show-chart'),\n  showChartText: document.querySelector('.show-chart'),\n  weatherInfo: document.querySelector('.weather-info'),\n  weatherCard: document.querySelector('.weather__card'),\n  moreInfo: document.querySelector('.more-info'),\n  moreInfoList: document.querySelector('.more-info-list'),\n  swiperList: document.querySelector('.city-slider__wrapper'),\n  weatherWrapperOneDay: document.querySelector('.weather__wrapper-oneDay'),\n  cityNameForFiveDaysInfo: document.querySelector('.city-name'),\n  weatherInfo: document.querySelector('.weather-info'),\n};\n","import { format } from 'date-fns';\nimport { swiperFiveDays, swiperMoreInfo } from './swiper';\nimport { refs } from './refs';\n\nexport const createMarkupFiveDays = list => {\n  const markupFive = list\n    .slice(0, 5)\n    .map(el => {\n      refs.cityNameForFiveDaysInfo.textContent =\n        el.cityName + ', ' + el.country;\n      return `\n          <li class=\"weather-info-item swiper-slide\">\n              <p class=\"day\">${el.day}</p>\n              <p class=\"date\">${el.date}</p>\n              <img class=\"weather-img\" src=\"https://openweathermap.org/img/wn/${\n                el.icon\n              }.png\" alt=\"${el.description}\" />\n              <div class=\"temperature\">\n                <div><p class=\"min-temperature\">min </p>\n                <span class=\"temperature-span\">${el.min}&#176;</span></div>\n                <div><p class=\"max-temperature\">max </p>\n                <span class=\"temperature-span\">${el.max}&#176;</span></div>\n              </div>\n              <div class=\"weather-info-button\"><button class=\"more-info-btn\" data-weather='${JSON.stringify(\n                el.weather\n              )}'>more info</button></div>\n          </li>`;\n    })\n    .join('');\n\n  refs.weatherInfo.innerHTML = markupFive;\n  swiperFiveDays.update();\n  swiperMoreInfo.update();\n};\n\nexport const createFavoriteCities = items => {\n  const markup = items\n    .map((el, index) => {\n      return `<li data-name=\"${el}\" data-hash=\"slide-${\n        index + 1\n      }\" class=\"city-slider__slide swiper-slide\">\n              ${el}\n            <button class=\"deleteFavoriteBtn\"><svg class=\"close-favorite\" width=\"12px\" height=\"12px\">\n            <use href=\"/img/symbol-defs.svg#icon-close\"></use>\n          </svg></button></li>`;\n    })\n    .join('');\n  refs.swiperList.insertAdjacentHTML('beforeend', markup);\n};\n\nexport const createMarkupOneDay = ({ name, main, sys, weather }) => {\n  const sunset = document.querySelector('.sunset-time');\n  const sunrise = document.querySelector('.sunrise-time');\n  const markupOneDay = `<div class=\"weather__card-oneDay\">\n      <ul class=\"oneDayList\">\n      <li class=\"oneDayItem\"> \n        <img class=\"weather-imgOneDay\" src=\"https://openweathermap.org/img/wn/${\n          weather[0].icon\n        }@2x.png\" alt=\"${weather[0].description}\" />\n        <h2 class=\"city-name-oneDay\">${name}, ${sys.country}</h2>\n        <p class=\"temperature-oneDay\">${main.temp.toFixed(0)}</p>\n        <div class=\"temperature\">\n            <div>\n                <p class=\"min-temperature\">min </p>\n                <span class=\"temperature-span\">${main.temp_min.toFixed(\n                  0\n                )}&#176;</span></div>\n            <div>\n                <p class=\"max-temperature\">max </p>\n                <span class=\"temperature-span\">${main.temp_max.toFixed(\n                  0\n                )}&#176;</span>\n            </div>\n        </div> \n      </li>    \n      </ul>    \n  </div>`;\n  refs.weatherWrapperOneDay.innerHTML = markupOneDay;\n  sunrise.textContent = format(new Date(sys.sunrise * 1000), 'HH:mm');\n  sunset.textContent = format(new Date(sys.sunset * 1000), 'HH:mm');\n};\n","import axios from 'axios';\nimport { format } from 'date-fns';\n\nconst instance = axios.create({\n  baseURL: 'https://api.openweathermap.org/data/2.5',\n  params: {\n    appid: '95632b02f9162f375a368971925f5209',\n    units: 'metric',\n  },\n});\n\nexport const getWeatherByQuery = async city => {\n  const { data } = await instance.get(`/weather`, {\n    params: {\n      q: city,\n    },\n  });\n  console.log(data);\n  return data;\n};\n\nexport const getWeatherByCoords = async ({ latitude, longitude }) => {\n  // https://api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={API key}\n  const { data } = await instance.get(`/weather`, {\n    params: {\n      lat: latitude,\n      lon: longitude,\n    },\n  });\n  return data;\n};\n\nexport const getWeatherForFiveDays = async ({ latitude, longitude }) => {\n  // api.openweathermap.org/data/2.5/forecast?lat={lat}&lon={lon}&appid={API key}\n  const { data } = await instance.get(`/forecast`, {\n    params: {\n      lat: latitude,\n      lon: longitude,\n    },\n  });\n\n  return data.list.reduce((acc, { dt_txt, weather, main, wind }, index) => {\n    const day = format(new Date(dt_txt), 'EEEE');\n    const date = format(new Date(dt_txt), 'dd LLL');\n    const time = format(new Date(dt_txt), 'kk:mm');\n    const cityName = data.city.name;\n    const country = data.city.country;\n    // const temp = acc.length;\n    const weatherByHours = {\n      temp: main.temp,\n      pressure: main.pressure,\n      humidity: main.humidity,\n      wind: wind.speed,\n      icon: weather[0].icon,\n      time,\n    };\n    if (day === acc[acc?.length - 1]?.day) {\n      acc[acc.length - 1].weather.push(weatherByHours);\n      acc[acc.length - 1].min += main.temp_min;\n      acc[acc.length - 1].max += main.temp_max;\n    } else {\n      if (acc.length > 0) {\n        const lastEl = acc[acc.length - 1];\n        lastEl.min = Math.round(lastEl.min / lastEl.weather.length);\n        lastEl.max = Math.round(lastEl.max / lastEl.weather.length);\n      }\n      acc.push({\n        cityName,\n        country,\n        day,\n        date,\n        weather: [weatherByHours],\n        icon: weather[0].icon,\n        min: main.temp_min,\n        max: main.temp_max,\n      });\n    }\n    // console.log('length', acc.length);\n    // console.log(temp);\n    if (index === 39) {\n      const lastEl = acc[acc.length - 1];\n      lastEl.min = Math.round(lastEl.min / lastEl.weather.length);\n      lastEl.max = Math.round(lastEl.max / lastEl.weather.length);\n    }\n    return acc;\n  }, []);\n};\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.opencagedata.com/geocode/v1/json',\n  params: {\n    key: 'd4683b09d0c94ec0aebf0b2e043decbf',\n    language: 'en',\n  },\n});\n\nexport const getUserInfo = async ({ latitude, longitude }) => {\n  const urlPosition = `?q=${latitude}+${longitude}`;\n  const { data } = await instance.get(urlPosition);\n  return data.results[0].components.country;\n};\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  params: {\n    image_type: 'backgrounds',\n    orientation: 'horizontal',\n    per_page: '40',\n    key: '37485893-252f507e861118bf45a5e3b29',\n  },\n});\n\nexport const getPhotos = async place => {\n  const { data } = await instance.get('', {\n    params: {\n      q: place,\n    },\n  });\n  return data.hits;\n};\n","export const getRandomIndex = max => {\n  return Math.floor(Math.random() * (max + 1) + 1);\n};\n","import { getRandomIndex } from './getRandomIndex';\n\nexport const setBackground = hits => {\n  const index = getRandomIndex(hits.length - 1);\n  const { largeImageURL } = hits[index];\n  document.body.style = `background: linear-gradient(rgba(255, 255, 53, 0.1), rgba(48, 62, 143, 0.1 )),\n  url('${largeImageURL}') center fixed; background-size: cover;`;\n};\n","import { format } from 'date-fns';\nimport { refs } from './refs';\n\nexport const updateCurrentTime = () => {\n  setInterval(() => {\n    refs.timer.textContent = format(new Date(), 'HH:mm:ss');\n    refs.month.textContent = format(new Date(), 'LLLL');\n    refs.dateOneDay.textContent = format(new Date(), 'do E');\n  }, 1000);\n};\n","export const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n","const saveFavoriteBtn = document.querySelector('.saveFavoriteBtn');\n\nexport const btnAddFavorite = () => {\n  saveFavoriteBtn.classList.add('inFavorite');\n  saveFavoriteBtn.disabled = true;\n};\n\nexport const btnRemoveFavorite = () => {\n  saveFavoriteBtn.classList.remove('inFavorite');\n  saveFavoriteBtn.disabled = false;\n};\n","import { refs } from './refs';\nimport { save, load } from './storage.js';\nimport { btnAddFavorite, btnRemoveFavorite } from './favoriteBtn.js';\nimport { swiper } from './swiper.js';\nimport { createFavoriteCities, createMarkupFiveDays } from './createMarkup';\nimport { getWeatherByQuery } from './api/weatherApi';\n\nconst persistedFavorites = load('favorite') || [];\n\nrefs.form.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const { value } = e.target.elements.user_country;\n  if (!value) {\n    return;\n  }\n  getWeatherByQuery(value).then(createMarkupFiveDays);\n}\n\nrefs.saveFavoriteBtn.addEventListener('click', saveFavorite);\n\nfunction saveFavorite() {\n  persistedFavorites.push(refs.form.elements.user_country.value);\n  save('favorite', persistedFavorites);\n\n  createFavoriteCities([refs.form.elements.user_country.value]);\n\n  btnAddFavorite();\n  swiper.update();\n}\n\nrefs.form.addEventListener('input', handleInput);\n\nfunction handleInput(e) {\n  const value = e.target.value.toLowerCase();\n  if (persistedFavorites.find(element => element.toLowerCase() === value)) {\n    btnAddFavorite();\n    return;\n  }\n  btnRemoveFavorite();\n}\n\nrefs.swiperList.addEventListener('click', handleFavoriteClick);\n\nfunction handleFavoriteClick(e) {\n  if (e.target.nodeName === 'UL') {\n    return;\n  }\n  if (e.target.nodeName === 'BUTTON') {\n    const item = e.target.parentNode;\n    const filteredFavorites = persistedFavorites.filter(\n      el => el.toLowerCase() !== item.dataset.name.toLowerCase()\n    );\n\n    save('favorite', filteredFavorites);\n    item.remove();\n  }\n  if (e.target.nodeName === 'LI') {\n    refs.form.elements.user_country.value = e.target.dataset.name;\n    getWeatherByQuery(e.target.dataset.name).then(createMarkupFiveDays);\n    btnAddFavorite();\n  }\n}\n\nexport const updateFavorites = () => {\n  createFavoriteCities(persistedFavorites);\n  swiper.update();\n};\n","// export const calculateAverage = (arr, key) => {\n//   return (arr.reduce((acc, item) => acc + item[key], 0) / arr.length).toFixed(\n//     2\n//   );\n// };\n\nexport const calculateMax = (arr, key) => {\n  if (arr.length === 0) return null;\n  return arr.reduce(\n    (max, item) => (item[key] > max ? item[key] : max),\n    arr[0][key]\n  );\n};\n","import Chart from 'chart.js/auto';\nimport { calculateMax } from './helpers/calculateNumbers.js';\n\nconst ctx = document.getElementById('myChart');\n\nexport const myChart = chartData => {\n  const updateData = chartData.reduce(\n    (acc, item) => {\n      const date = `${item.date}, ${new Date().getFullYear()}`;\n      return {\n        ...acc,\n        labels: [...acc.labels, date],\n        temp: [...acc.temp, calculateMax(item.weather, 'temp')],\n        humidity: [...acc.humidity, calculateMax(item.weather, 'humidity')],\n        speed: [...acc.speed, calculateMax(item.weather, 'wind')],\n        pressure: [...acc.pressure, calculateMax(item.weather, 'pressure')],\n      };\n    },\n    {\n      labels: [],\n      temp: [],\n      humidity: [],\n      speed: [],\n      pressure: [],\n    }\n  );\n\n  new Chart(ctx, {\n    type: 'line',\n    data: {\n      labels: updateData.labels,\n      datasets: [\n        {\n          label: '— Temperature, C°',\n          data: updateData.temp,\n          borderWidth: 1,\n          backgroundColor: 'rgb(255, 107, 8)',\n          borderColor: 'rgb(255, 107, 8)',\n        },\n        {\n          label: ' —  Humidity, %',\n          backgroundColor: 'rgb(10, 6, 234)',\n          borderColor: 'rgb(10, 6, 234)',\n          data: updateData.humidity,\n          fill: false,\n          hidden: true,\n        },\n        {\n          label: ' —  Speed, m/s',\n          backgroundColor: 'rgb(235, 155, 5)',\n          borderColor: 'rgb(235, 155, 5)',\n          data: updateData.speed,\n          fill: false,\n          hidden: true,\n        },\n        {\n          label: ' —  Pressure, m/m',\n          backgroundColor: 'rgb(5, 120, 6)',\n          borderColor: 'rgb(5, 120, 6)',\n          data: updateData.pressure,\n          fill: false,\n          hidden: true,\n        },\n      ],\n    },\n    options: {\n      title: {\n        display: true,\n        text: 'Value of indicators',\n        position: 'left',\n      },\n      legend: {\n        display: true,\n        align: 'start',\n\n        labels: {\n          boxWidth: 13,\n          boxHeight: 12,\n          defaultFontColor: 'rgb(5, 120, 6)',\n          padding: 10,\n        },\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n    },\n  });\n};\n","import 'material-icons/iconfont/material-icons.css';\nimport { createMarkupFiveDays, createMarkupOneDay } from './js/createMarkup';\nimport {\n  getWeatherByCoords,\n  getWeatherByQuery,\n  getWeatherForFiveDays,\n} from './js/api/weatherApi';\nimport { getUserInfo } from './js/api/opencagedataApi';\nimport { getPhotos } from './js/api/pixabayApi';\nimport { setBackground } from './js/helpers/setBackground';\nimport { updateCurrentTime } from './js/currentTime.js';\nimport { updateFavorites } from './js/saveFavorite.js';\nimport { myChart } from './js/weatherChart.js';\nimport { refs } from './js/refs.js';\n\nlet coords = {};\nloadPage();\n\nfunction loadPage() {\n  updateFavorites();\n  updateCurrentTime();\n  const success = pos => {\n    coords = pos.coords;\n    getWeatherByCoords(pos.coords).then(createMarkupOneDay);\n    // getWeatherByCoords(pos.coords).then(createMarkupWeatherDate);\n\n    getUserInfo(pos.coords).then(getPhotos).then(setBackground);\n  };\n\n  navigator.geolocation.getCurrentPosition(success);\n}\n\nrefs.searchInput.addEventListener('keydown', checkWeather);\n\nfunction checkWeather() {\n  const enteredCity = refs.searchInput.value;\n  getWeatherByQuery(enteredCity)\n    .then(createMarkupOneDay)\n    .then(createMarkupFiveDays);\n}\n\nlet chartData = {};\nlet chartVisible = false; // Змінна для відстеження стану відображення графіка\n\nrefs.showChart.addEventListener('click', showChartFunction);\n\nfunction showChartFunction() {\n  if (!chartVisible) {\n    refs.weatherChart.style.display = 'flex';\n    refs.showChartText.textContent = 'Hide Chart';\n    refs.showChart.style.transform = 'rotate(180deg)';\n    myChart(chartData);\n    chartVisible = true;\n  } else {\n    refs.weatherChart.style.display = 'none';\n    refs.showChartText.textContent = 'Show Chart';\n    refs.showChart.style.transform = 'rotate(0deg)';\n    chartVisible = false;\n  }\n}\n\nrefs.buttonsOneOrFive.addEventListener('click', fiveDaysInfo);\n\nfunction fiveDaysInfo(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const fiveDay = document.querySelector('.btn-five');\n  const oneDay = document.querySelector('.btn-today');\n  if (e.target.dataset.day === 'five') {\n    refs.weatherWrapperOneDay.style.display = 'none';\n    refs.weatherWrapperOneDayDate.style.display = 'none';\n    refs.weatherWrapper.style.display = 'block';\n    refs.chart.style.display = 'block';\n    refs.wrapper.classList.add('wrapper-with-margin');\n    fiveDay.disabled = true;\n    oneDay.disabled = false;\n    fiveDay.classList.remove('btn-disActive');\n    oneDay.classList.add('btn-disActive');\n    getWeatherForFiveDays(coords).then(data => {\n      createMarkupFiveDays(data);\n      chartData = data;\n    });\n    return;\n  }\n  oneDay.classList.remove('btn-disActive');\n  fiveDay.classList.add('btn-disActive');\n  oneDay.disabled = true;\n  fiveDay.disabled = false;\n  refs.weatherWrapperOneDay.style.display = 'flex';\n  refs.weatherWrapperOneDayDate.style.display = 'flex';\n  refs.weatherWrapper.style.display = 'none';\n  refs.chart.style.display = 'none';\n  refs.wrapper.classList.remove('wrapper-with-margin');\n}\n\nrefs.weatherInfo.addEventListener('click', wheatherInfoClick);\n\nfunction wheatherInfoClick(e) {\n  if (!e.target.classList.contains('more-info-btn')) return;\n  refs.weatherCard.style.height = '556px';\n  refs.moreInfo.style.display = 'block';\n  const newList = JSON.parse(e.target.dataset.weather);\n  const markupMoreInfo = newList\n    .map(el => {\n      return `<li class=\"more-info-item swiper-slide\">\n      <div class=\"more-info-item-div\">\n       <p class=\"weather-time\">${el.time}</p>\n          <img class=\"weather-img\" src=\"https://openweathermap.org/img/wn/${\n            el.icon\n          }@2x.png\" alt=\"${el.description}\" />\n          <p class=\"temperature-moreInfo\">${Math.round(el.temp)}&#176;</p>\n          <div class=\"barometer-container\">\n            <svg class=\"barometer\" width=\"20px\" height=\"20px\">\n              <use href=\"../img/symbol-defs.svg#icon-barometer\"></use>\n            </svg>\n            <p class=\"barometer-value\">${el.pressure}</p>\n          </div>\n          <div class=\"humidity-container\">\n            <svg class=\"humidity\" width=\"20px\" height=\"20px\">\n              <use href=\"../img/symbol-defs.svg#icon-humidity\"></use>\n            </svg>\n            <p class=\"humidity-value\">${el.humidity}</p>\n          </div>\n          <div class=\"wind-container\">\n            <svg class=\"wind\" width=\"20px\" height=\"20px\">\n              <use href=\"../img/symbol-defs.svg#icon-wind\"></use>\n            </svg>\n            <p class=\"wind-value\">${el.wind}</p>\n          </div>\n      </div> \n    </li>`;\n    })\n    .join('');\n\n  refs.moreInfoList.innerHTML = markupMoreInfo;\n}\n"],"names":["swiper","Swiper","Navigation","swiperFiveDays","swiperMoreInfo","refs","createMarkupFiveDays","list","markupFive","el","createFavoriteCities","items","markup","index","createMarkupOneDay","name","main","sys","weather","sunset","sunrise","markupOneDay","format","instance","axios","getWeatherByQuery","city","data","getWeatherByCoords","latitude","longitude","getWeatherForFiveDays","acc","dt_txt","wind","day","date","time","cityName","country","weatherByHours","_a","lastEl","getUserInfo","urlPosition","getPhotos","place","getRandomIndex","max","setBackground","hits","largeImageURL","updateCurrentTime","save","key","value","serializedState","error","load","saveFavoriteBtn","btnAddFavorite","btnRemoveFavorite","persistedFavorites","handleSubmit","e","saveFavorite","handleInput","element","handleFavoriteClick","item","filteredFavorites","updateFavorites","calculateMax","arr","ctx","myChart","chartData","updateData","Chart","coords","loadPage","success","pos","checkWeather","enteredCity","chartVisible","showChartFunction","fiveDaysInfo","fiveDay","oneDay","wheatherInfoClick","markupMoreInfo"],"mappings":"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"}